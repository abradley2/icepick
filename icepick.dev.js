!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=r()}}(function(){return function r(e,n,t){function o(u,c){if(!n[u]){if(!e[u]){var f="function"==typeof require&&require;if(!c&&f)return f(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var s=n[u]={exports:{}};e[u][0].call(s.exports,function(r){var n=e[u][1][r];return o(n||r)},s,s.exports,r,e,n,t)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<t.length;u++)o(t[u]);return o}({1:[function(r,e,n){"use strict";function t(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}function o(r,e){return(e||[]).reduce(function(r,e){if(r)return r[e]},r)}function i(r,e){return Object.keys(e).reduce(function(r,n){return f.assoc(r,n,e[n])},r)}function u(r,e,n){return null==r||null==e?r:Object.keys(e).reduce(function(r,t){var o=e[t],i=r[t],s=n?n(i,o,t):o;return a(o)&&a(i)?s===i&&Object.isFrozen(s)&&Object.isFrozen(i)?r:Array.isArray(o)?f.assoc(r,t,s):c(r,t,u(i,s,n)):c(r,t,s)},r)}function c(r,e,n){return r[e]===n?r:f.assoc(r,e,n)}var f=n,a=function(r){return null!==r&&(Array.isArray(r)||s(r))},s=function(r){return"object"==typeof r&&r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype},l=function(r,e){var n=void 0,t=void 0;if(Array.isArray(r))for(n=r.length;n--;)e(n);else for(n=(t=Object.keys(r)).length;n--;)e(t[n])},y=function(r){for(var e={},n=Object.keys(r),t=n.length,o=void 0;t--;)e[o=n[t]]=r[o];return e},p=function(r){return Array.isArray(r)?r.slice():y(r)},v=function(r){return a(r)&&!Object.isFrozen(r)?b(r):r},d=function(r){return"object"==typeof r?Object.freeze(r):r},h=[],b=function(r){if(h.some(function(e){return e===r}))throw new Error("object has a reference cycle");return h.push(r),l(r,function(e){var n=r[e];a(n)&&b(n)}),h.pop(),Object.freeze(r),r};n.freeze=b,n.thaw=function r(e){if(!a(e)||!Object.isFrozen(e))return e;var n=Array.isArray(e)?new Array(e.length):{};return l(e,function(t){n[t]=r(e[t])}),n},n.assoc=function(r,e,n){if(r[e]===n)return d(r);var t=p(r);return t[e]=v(n),d(t)},n.set=n.assoc,n.dissoc=function(r,e){var n=p(r);return delete n[e],d(n)},n.unset=n.dissoc,n.assocIn=function r(e,n,t){var o=n[0];return 1===n.length?f.assoc(e,o,t):f.assoc(e,o,r(e[o]||{},n.slice(1),t))},n.setIn=n.assocIn,n.getIn=o,n.updateIn=function(r,e,n){var t=o(r,e);return f.assocIn(r,e,n(t))},["push","unshift","pop","shift","reverse","sort"].forEach(function(r){n[r]=function(e,n){var o=[].concat(t(e));return o[r](v(n)),d(o)},n[r].displayName="icepick."+r}),n.splice=function(r){for(var e=[].concat(t(r)),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var u=o.map(v);return e.splice.apply(e,u),d(e)},n.slice=function(r,e,n){var t=r.slice(e,n);return d(t)},["map","filter"].forEach(function(r){n[r]=function(e,n){var t=n[r](e);return d(t)},n[r].displayName="icepick."+r}),n.extend=n.assign=function(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];var o=n.reduce(i,r);return d(o)},n.merge=u;var j={value:function(){return this.val},thru:function(r){return this.val=v(r(this.val)),this}};Object.keys(n).forEach(function(r){j[r]=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.unshift(this.val),this.val=n[r].apply(null,t),this}}),n.chain=function(r){var e=Object.create(j);return e.val=r,e}},{}]},{},[1])(1)});
